#include <stdio.h>
#include <wiringPi.h>
#include <sr595.h> //envio de dados seriais
#include <math.h>

#define PI 3.14159265359

int main (void){

	int i,menu, bit;
	float x;
	int c;

	int v01[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x91, 0xA1, 0xC1, 0xE1, 0xFE, 0xFE, 0xE0, 0xC0, 0xA1, 0x91, 0x81, 0x71, 0x69, 0x67, 0x61, 0x55, 0x55, 0x59, 0x61, 0x67, 0x6B, 0x71, 0x75, 0x75, 0x79, 0x7B, 0x7D, 0x7F, 0x7F, 0x7F, 0x7F, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
	int v02[] = {0x81, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
	int v03[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
	int v04[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x89, 0x87, 0x85, 0x83, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x87, 0x89, 0x89, 0x8B, 0x8D, 0x8F, 0x91, 0x93, 0x95, 0x95, 0x95, 0x93, 0x91, 0x8B, 0x87, 0x85, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
	int v05[] = {0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x83, 0x87, 0x89, 0x8D, 0x91, 0x93, 0x95, 0x95, 0x8F, 0x83, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x83, 0x87, 0x89, 0x8D, 0x91, 0x93, 0x95, 0x95, 0x8F, 0x83, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x83, 0x87, 0x89, 0x8D, 0x91, 0x93, 0x95, 0x95, 0x8F, 0x83, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x83, 0x87, 0x89, 0x8D, 0x91, 0x93, 0x95, 0x95, 0x8F, 0x83, 0x81};
	int v06[] = {0x84, 0x90, 0x9B, 0x8B, 0x79, 0x73, 0x65, 0x63, 0x65, 0x6B, 0x79, 0x85, 0x97, 0xA5, 0xA1, 0x95, 0x6A, 0x60, 0x5F, 0x63, 0x67, 0x73, 0x7B, 0x79, 0x79, 0x77, 0x7B, 0x81, 0x89, 0x8F, 0x91, 0x8F, 0x8C, 0x7E, 0x67, 0x5F, 0x59, 0x61, 0x6F, 0x7B, 0x81, 0x9B, 0x9F, 0xA1, 0x9F, 0x95, 0x79, 0x6F, 0x6A, 0x6A, 0x6F, 0x75, 0x81, 0x95, 0x9D, 0x9F, 0x95, 0x8D, 0x6B, 0x5B, 0x57, 0x51, 0x5D, 0x63, 0x66, 0x72, 0x7B, 0x7F, 0x83, 0x87, 0x89, 0x8F, 0x93, 0x95, 0x9B, 0xA1, 0xA7, 0xA9, 0xAB, 0xA7, 0x8A, 0x6A, 0x67, 0x69, 0x69, 0x71, 0x75, 0x75, 0x73, 0x71, 0x71, 0x75, 0x8B, 0x93, 0x8F, 0x95, 0x8E, 0x86, 0x75, 0x65, 0x61, 0x65, 0x6D, 0x7B, 0x87, 0x91, 0xA7, 0xB1, 0xB1, 0xA9, 0x97, 0x7B, 0x6E, 0x64, 0x65, 0x69, 0x75, 0x7F, 0x85, 0x8F, 0x93, 0x95, 0x91, 0x89, 0x83, 0x83, 0x81, 0x83};
	int v07[] = {0x81, 0x83, 0x85, 0x83, 0x7D, 0x7F, 0x83, 0x81, 0x83, 0x85, 0x87, 0x83, 0x7F, 0x7D, 0x7D, 0x83, 0x83, 0x85, 0x83, 0x77, 0xFE, 0x66, 0x82, 0x80, 0x81, 0x83, 0x85, 0x83, 0x7D, 0x7F, 0x83, 0x85, 0x87, 0x8D, 0x93, 0x97, 0x95, 0x91, 0x93, 0x8F, 0x89, 0x87, 0x81, 0x83, 0x7F, 0x7D, 0x7F, 0x81, 0x85, 0x83, 0x7D, 0x7F, 0x77, 0x7F, 0x83, 0x85, 0x87, 0x89, 0x85, 0x81, 0x7D, 0x85, 0x87, 0x81, 0x87, 0x89, 0x87, 0x83, 0x7D, 0x77, 0x79, 0x7D, 0x83, 0x81, 0x85, 0x83, 0x89, 0x8F, 0x89, 0x7D, 0x79, 0x79, 0x7D, 0x81, 0x83, 0x7F, 0x81, 0x7B, 0x77, 0x71, 0xFE, 0x50, 0x82, 0x84, 0x89, 0x85, 0x79, 0x85, 0x85, 0x87, 0x8D, 0x8F, 0x95, 0x93, 0x91, 0x8D, 0x8D, 0x89, 0x83, 0x85, 0x89, 0x81, 0x7D, 0x7F, 0x79, 0x87, 0x85, 0x83, 0x81, 0x85, 0x79, 0x89, 0x85, 0x83, 0x87, 0x89, 0x85, 0x83};
	int v08[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
	int v09[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x89, 0x8D, 0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
	int v10[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0xC0, 0x76, 0x5E, 0x44, 0x27, 0x27, 0x45, 0x5F, 0x77, 0x81, 0x91, 0x99, 0x9B, 0xA1, 0xAD, 0xAD, 0xA7, 0xA1, 0x9B, 0x97, 0x91, 0x8D, 0x89, 0x85, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
	int v11[] = {0x81, 0x71, 0x61, 0x41, 0x21, 0x10, 0x20, 0x30, 0x50, 0x61, 0x85, 0x8D, 0x97, 0x99, 0x9B, 0x99, 0x95, 0x93, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x71, 0x61, 0x51, 0x30, 0x44, 0x66, 0x76, 0x81, 0x87, 0x8B, 0x95, 0x9B, 0xA1, 0xA1, 0x9D, 0x99, 0x95, 0x8D, 0x8B, 0x89, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x91, 0xA1, 0xC1, 0xE1, 0xFE, 0xFE, 0xE0, 0xC0, 0xA1, 0x91, 0x81, 0x71, 0x69, 0x67, 0x61, 0x55, 0x55, 0x59, 0x61, 0x67, 0x6B, 0x71, 0x75, 0x75, 0x79, 0x7B, 0x7D, 0x7F, 0x7F, 0x7F, 0x7F, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
	int v12[] = {0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x87, 0x87, 0x89, 0x87, 0x87, 0x85, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x71, 0xFE, 0x54, 0x7C, 0x7E, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x83, 0x83, 0x85, 0x87, 0x89, 0x8B, 0x8D, 0x8F, 0x8F, 0x8D, 0x89, 0x83, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81, 0x81};
	

	wiringPiSetup();
	
	// A funcao sr595Setup(,,,,) configura o RasPi para envio de dados serialmente
	// O numero 100 (1o parametro) e o pino base para adicao de mais 8 (2o parametro) pinos	de dados ao RasPi
	// Habilita o wiringPi a usar os pinos 0, 1 e 2 (3o, 4o e 5o parametros) para dados, clock e latch
	// Para maiores informacoes, acesse:http://wiringpi.com/extensions/shift-register-74x595/
	
	sr595Setup(100,8,0,1,2);
	
	menu=15;
	
	while ((menu<1)||(menu>13)){
	
		printf("Escolha o ECG que voce deseja:\n");
		printf("1: Bigeminismo ventricular\n");
		printf("2: Taquicardia ventricular 120bpm\n");
		printf("3: Ritmo sinusal normal 60bpm\n");
		printf("4: Bradicardia sinusal 30bpm\n");
		printf("5: Taquicardia sinusal 120bpm\n");
		printf("6: Fibrilacao ventricular\n");
		printf("7: Fibrilacao atrial\n");
		printf("8: CVP apical\n");
		printf("9: Fenomeno R-sobre-T\n");
		printf("10: Bloqueio de ramo direito\n");
		printf("11: CVPs multifocais\n");
		printf("12: Bloqueio atrio-ventricular segundo grau 2:1\n");
		printf("13: Sinal senoidal\n");
		scanf("%d",&menu);
	}
	
	switch (menu){
	
		case 1:
		printf("Bigeminismo ventricular\n");
	
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v01[i] & (1<<bit)));	
				delayMicroseconds(16666);
				
			}
		}
		break;
	
		case 2:
		printf("Taquicardia ventricular 120bpm\n");
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v02[i] & (1<<bit)));
				delayMicroseconds(15625);
			}
		}
		break;
	
		case 3:
		printf("Ritmo sinusal normal 60bpm\n");
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v03[i] & (1<<bit)));
				delayMicroseconds(15625);
			}
		}
		break;
	
		case 4:
		printf("Bradicardia sinusal 30bpm\n");
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v04[i] & (1<<bit)));
				delayMicroseconds(15625);
			}
		}
		break;
	
		case 5:
		printf("Taquicardia sinusal 120bpm\n");
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v05[i] & (1<<bit)));
				delayMicroseconds(15625);
			}
		}
		break;
	
		case 6:
		printf("Fibrilacao ventricular\n");
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v06[i] & (1<<bit)));
				delayMicroseconds(15625);
			}
		}
		break;
	
		case 7:
		printf("Fibrilacao atrial\n");
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v07[i] & (1<<bit)));
				delayMicroseconds(15625);
			}
		}
		break;
	
		case 8:
		printf("CVP apical\n");
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v08[i] & (1<<bit)));
				delayMicroseconds(15625);
			}
		}
		break;
	
		case 9:
		printf("Fenomeno R-sobre-T\n");
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v09[i] & (1<<bit)));
				delayMicroseconds(15625);
			}
		}
		break;
	
		case 10:
		printf("Bloqueio de ramo direito\n");
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v10[i] & (1<<bit)));
				delayMicroseconds(15625);
			}
		}
		break;
	
		case 11:
		printf("CVPs multifocais\n");
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v11[i] & (1<<bit)));
				delayMicroseconds(15625);
			}
		}
		break;
	
		case 12:
		printf("Bloqueio atrio-ventricular segundo grau 2:1\n");
		while (1){
			for (i=0;i<128;i++){
				for(bit=0;bit<8;bit++)
					digitalWrite(100+bit, (v12[i] & (1<<bit)));
				delayMicroseconds(15625);
			}
		}
		break;
	
		case 13:
		printf("Sinal Senoidal\n");
		while(1){
			for (x=(-1*PI);x <= PI ;x=(x+PI/128)){
				c = 128 + 127*sin(x);
				digitalWrite(100, c);
				delayMicroseconds(1);
			}
		}
		break;
	}
	
	return 0;
}
